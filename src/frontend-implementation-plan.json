{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Make portfolio holdings search case-insensitive",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Make holdings text filtering case-insensitive wherever holdings are filtered by a query (at minimum the holdings table/list).",
      "acceptanceCriteria": [
        "When a portfolio contains a holding with ticker \"ICP\", searching for \"icp\" returns/matches that holding.",
        "Searching for \"ICP\" and \"icp\" yields identical results.",
        "Partial matches are also case-insensitive (e.g., query \"ic\" matches \"ICP\" if partial matching is supported by the existing holdings search behavior).",
        "No changes are required to how tickers are displayed (tickers should continue to render in their stored/original casing)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/utils/textSearch.ts",
          "operation": "create",
          "description": "Add a small shared helper for case-insensitive text matching/normalization (e.g., normalize-to-lowercase + safe trimming) to keep holdings filtering consistent across the UI."
        },
        {
          "path": "frontend/src/components/portfolio/HoldingsTable.tsx",
          "operation": "modify",
          "description": "Update the holdings filtering logic to perform case-insensitive matching (use the new text search helper). Ensure the displayed ticker casing remains unchanged while the match comparison uses normalized strings."
        }
      ]
    }
  ]
}